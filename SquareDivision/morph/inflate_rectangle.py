def MaxHomThenMaxPush_idx_update(
        idx,
        rectangles_sample,
        left__walls,
        right_walls,
        down__walls,
        upper_walls):
    rectangle = rectangles_sample[idx]
    for dir in ['r', 'u', 'l', 'd']:
        # check max homogeneus scaling
        pass
    return (rectangles_sample,
            left__walls,
            right_walls,
            down__walls,
            upper_walls)